<header class="bg-primary-blue-darker fixed top-0 left-0 right-0 w-full" style="z-index: 99998;">
  <!-- Top Banner -->
  <div class="bg-primary-gold text-primary-blue-darker text-center py-1 px-4 text-sm font-semibold">
    <span>Stated Communication: Third Tuesday of Each Month at 7:30 PM | Dinner at 6:30 PM</span>
  </div>
  
  <!-- Logo and Navigation -->
  <div class="container mx-auto px-3 md:px-4 py-2 md:py-3 flex flex-col md:flex-row items-center justify-between">
    <!-- Logo Section - 3 Column Layout on Mobile -->
    <div class="w-full grid grid-cols-5 items-center md:flex md:justify-start">
      <!-- Column 1: Logo -->
      <div class="flex justify-start items-center">
        <a routerLink="/">
          <div class="h-12 w-12 md:h-16 md:w-16 flex-shrink-0">
            <app-lodge-emblem 
              width="100%" 
              height="100%" 
              imageClass="emblem-shadow"
              loading="eager"
              fetchpriority="high">
            </app-lodge-emblem>
          </div>
        </a>
      </div>
      
      <!-- Column 2: Lodge Name -->
      <div class="col-span-3 text-white text-center overflow-hidden px-1 md:text-left md:ml-3">
        <h1 class="font-cinzel text-base md:text-xl lg:text-2xl font-bold tracking-wide truncate whitespace-nowrap">
          St. Petersburg
        </h1>
        <p class="font-garamond text-primary-gold text-base md:text-sm italic">
          Lodge No. 139 F&AM
        </p>
      </div>
      
      <!-- Column 3: Mobile Menu Button -->
      <div class="flex justify-end">
        <button 
          class="md:hidden bg-primary-blue text-white p-1.5 rounded-md flex items-center text-sm" 
          (click)="toggleMenu()"
          [attr.aria-expanded]="isMenuOpen"
          aria-label="Toggle navigation menu">
          <span class="mr-1.5">Menu</span>
          <i class="fas fa-bars" *ngIf="!isMenuOpen"></i>
          <i class="fas fa-times" *ngIf="isMenuOpen"></i>
        </button>
      </div>
    </div>
      
    <!-- Navigation Menu -->
    <nav class="w-full md:w-auto">
      <ul [class]="getMenuClasses()">
        <!-- Our Lodge Dropdown -->
        <li class="relative" [class.show]="isAboutDropdownOpen">
          <button 
            #aboutDropdownButton
            class="text-white hover:text-primary-gold focus:text-primary-gold focus:outline-none w-full text-left px-4 py-3 md:py-2 transition flex items-center justify-between border-l-2 border-r-2 border-transparent hover:border-primary-gold"
            [class.text-primary-gold]="isAboutDropdownOpen"
            [class.border-primary-gold]="isAboutDropdownOpen"
            (click)="toggleAboutDropdown()"
            [attr.aria-expanded]="isAboutDropdownOpen">
            <span>OUR LODGE</span>
            <i class="fas fa-chevron-down ml-1 transition-transform duration-200" 
               [class.rotate-180]="isAboutDropdownOpen"></i>
          </button>
          <div class="dropdown-menu" [class.show]="isAboutDropdownOpen">
            <a *ngFor="let item of aboutMenuItems"
               [routerLink]="item.route"
               class="block px-4 py-2 text-white hover:text-primary-gold hover:bg-primary-blue transition"
               (click)="closeDropdowns()">
              {{ item.label }}
            </a>
          </div>
        </li>
        
        <!-- Secretary's Office Dropdown -->
        <li class="relative" [class.show]="isSecretaryDropdownOpen">
          <button 
            #secretaryDropdownButton
            class="text-white hover:text-primary-gold focus:text-primary-gold focus:outline-none w-full text-left px-4 py-3 md:py-2 transition flex items-center justify-between border-l-2 border-r-2 border-transparent hover:border-primary-gold"
            [class.text-primary-gold]="isSecretaryDropdownOpen"
            [class.border-primary-gold]="isSecretaryDropdownOpen"
            (click)="toggleSecretaryDropdown()"
            [attr.aria-expanded]="isSecretaryDropdownOpen">
            <span>THE SECRETARY'S OFFICE</span>
            <i class="fas fa-chevron-down ml-1 transition-transform duration-200" 
               [class.rotate-180]="isSecretaryDropdownOpen"></i>
          </button>
          <div class="dropdown-menu" [class.show]="isSecretaryDropdownOpen">
            <a *ngFor="let item of secretaryMenuItems"
               [routerLink]="item.route"
               class="block px-4 py-2 text-white hover:text-primary-gold hover:bg-primary-blue transition"
               (click)="closeDropdowns()">
              {{ item.label }}
            </a>
          </div>
        </li>
        
        <!-- Regular Navigation Links -->
        <li *ngFor="let item of mainMenuItems">
          <a [routerLink]="item.route" 
             class="text-white hover:text-primary-gold block px-4 py-3 md:py-2 transition border-l-2 border-r-2 border-transparent hover:border-primary-gold"
             routerLinkActive="text-primary-gold border-primary-gold"
             (click)="closeMenu()">
            {{ item.label }}
          </a>
        </li>
      </ul>
    </nav>
  </div>
</header>
